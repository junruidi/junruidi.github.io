#      tick = F)
w2[which(w2 == 1)] = 0.3
par(mar=c(4,0,0,1))
#par(oma=c(1,3,4,1))
plot(w2,type = "h",col=c("grey","black")[as.factor(cls)],yaxt="n",xaxt="n",xlab="",ylab="",
cex.lab= 1, cex.main= 1, cex.sub= 2,main = "",
xlim = c(),ylim = c(0,1),axes=F)
axis(side=1,at=breaks,labels = lab,cex.axis=1.5)
#axis(side=2,at=c(0,3),labels = c("",""))
dev.off()
######################################################
## Create a subject daily profile for demonstration ##
######################################################
# 1. profile plot ---------------------------------------------------------
rm(list = ls())
act = read.csv("~/Dropbox/Junrui Di/fragmentation/Review AJE/version2/demonstration/check.csv")
x = act$x
w = act$w
x2 = ifelse(x>=100,1,0)
breaks = c(0,360,720,1080,1440)
lab = c("00:00 am","06:00 am","12:00 pm","6:00 pm","11:59 pm")
setwd("~/Dropbox/Junrui Di/fragmentation/Review AJE/version2/demonstration/")
w2 = w
w2[which(w2 == 0)] = NA
#png(file = "profile4.png", width = 12, height = 6,units="in",res=300)
tiff(file = "profile4.tiff", width = 12, height = 6,units="in",res=300)
layout(matrix(c(1,2),ncol=1),heights = c(1,0.7))
par(oma = c(1,3,0,0))
par(mar = c(0,0,0.1,1))
acti = x*w2
cls = x2
plot(acti,type = "h",col=c("grey","black")[as.factor(cls)],yaxt="n",xaxt="n",xlab="",ylab="",
cex.lab= 1, cex.main= 1, cex.sub= 2,axes = F,main = "")
axis(side=1,at=breaks,labels = lab,cex.axis=1.5)
axis(side=2,at=c(0,1000,2000))
abline(h=100,lty=3)
text(10,180,"h=100")
# cls2 = x2*w2
# x = cls2[which(!is.na(cls2))]
# l = rle(x)$length
# start = c(1)
# end = c(3)
#
# for(i in 2:length(l)){
#   start = c(start,sum(l[1:(i-1)])+1)
#   end = c(end,sum(l[1:i]))
# }
#
# v = rle(x)$values
#
#
# plot(1,type = "n",xlim = c(0,1440),ylim = c(-0.5,1.5),yaxt="n",xaxt="n",xlab="",ylab="",
#      cex.lab= 1, cex.main= 1, cex.sub= 2,axes=F)
# for(i in 1:length(start)){
#   if(v[i] == 0){
#     a = "chocolate1"
#   }
#   if(v[i] == 1){
#     a = "black"
#   }
#   segments(start[i]+441,v[i],end[i]+441,v[i],col = a)
# }
# axis(side=1,at=breaks,labels = lab,cex.axis=1)
# axis(side=2,at=c(-0.5,0,1,1.5),labels = c(" ","Sedentary","Active"," "),cex.axis=1,las=2,
#      tick = F)
w2[which(w2 == 1)] = 0.3
par(mar=c(4,0,0,1))
#par(oma=c(1,3,4,1))
plot(w2,type = "h",col=c("grey","black")[as.factor(cls)],yaxt="n",xaxt="n",xlab="",ylab="",
cex.lab= 1, cex.main= 1, cex.sub= 2,main = "",
xlim = c(),ylim = c(0,1),axes=F)
axis(side=1,at=breaks,labels = lab,cex.axis=1.5)
#axis(side=2,at=c(0,3),labels = c("",""))
dev.off()
act = read.csv("./files/check.csv")
x = act$x
w = act$w
x2 = ifelse(x>=100,1,0)
breaks = c(0,360,720,1080,1440)
lab = c("00:00 am","06:00 am","12:00 pm","6:00 pm","11:59 pm")
layout(matrix(c(1,2),ncol=1),heights = c(1,0.7))
par(oma = c(1,3,0,0))
par(mar = c(0,0,0.1,1))
acti = x*w2
act = read.csv("./files/check.csv")
x = act$x
w = act$w
x2 = ifelse(x>=100,1,0)
w2 = w
w2[which(w2 == 0)] = NA
breaks = c(0,360,720,1080,1440)
lab = c("00:00 am","06:00 am","12:00 pm","6:00 pm","11:59 pm")
layout(matrix(c(1,2),ncol=1),heights = c(1,0.7))
par(oma = c(1,3,0,0))
par(mar = c(0,0,0.1,1))
acti = x*w2
cls = x2
plot(acti,type = "h",col=c("grey","black")[as.factor(cls)],yaxt="n",xaxt="n",xlab="",ylab="",
cex.lab= 1, cex.main= 1, cex.sub= 2,axes = F,main = "")
axis(side=1,at=breaks,labels = lab,cex.axis=1.5)
axis(side=2,at=c(0,1000,2000))
abline(h=100,lty=3)
w2[which(w2 == 1)] = 0.3
par(mar=c(4,0,0,1))
plot(w2,type = "h",col=c("grey","black")[as.factor(cls)],yaxt="n",xaxt="n",xlab="",ylab="",
cex.lab= 1, cex.main= 1, cex.sub= 2,main = "",
xlim = c(),ylim = c(0,1),axes=F)
axis(side=1,at=breaks,labels = lab,cex.axis=1.5)
library(ggplot2)
library(grid)
library(gridExtra)
load("./files/data/project1/shp1.rda")
load("./files/data/project1/shp2.rda")
load("./files/data/project1/map.rda")
result.blk<-BaltimoreMap+
geom_polygon(aes(long,lat,group=group,fill=LE.pred),data=shpdata.df,alpha=0.9,color="black",size=0.04)+
scale_fill_gradient(name="Predicted Life Expectancy",low = "#ffffcc", high = "#ff4444", space = "Lab", na.value = "grey50",guide = "colourbar")+
ggtitle("After Downsampling")+
ylab("latitude")+xlab("longitude")+
theme(text = element_text(size=8),legend.position="bottom")
act = read.csv("./files/check.csv")
x = act$x
w = act$w
x2 = ifelse(x>=100,1,0)
w2 = w
w2[which(w2 == 0)] = NA
breaks = c(0,360,720,1080,1440)
lab = c("00:00 am","06:00 am","12:00 pm","6:00 pm","11:59 pm")
layout(matrix(c(1,2),ncol=1),heights = c(1,0.7))
par(oma = c(1,3,0,0))
par(mar = c(0,0,0.1,1))
acti = x*w2
cls = x2
plot(acti,type = "h",col=c("grey","black")[as.factor(cls)],yaxt="n",xaxt="n",xlab="",ylab="",
cex.lab= 1, cex.main= 1, cex.sub= 2,axes = F,main = "")
axis(side=1,at=breaks,labels = lab,cex.axis=1.5)
axis(side=2,at=c(0,1000,2000))
abline(h=100,lty=3)
w2[which(w2 == 1)] = 0.3
par(mar=c(4,0,0,1))
plot(w2,type = "h",col=c("grey","black")[as.factor(cls)],yaxt="n",xaxt="n",xlab="",ylab="",
cex.lab= 1, cex.main= 1, cex.sub= 2,main = "",
xlim = c(),ylim = c(0,1),axes=F)
axis(side=1,at=breaks,labels = lab,cex.axis=1.5)
act = read.csv("./files/check.csv")
x = act$x
w = act$w
x2 = ifelse(x>=100,1,0)
w2 = w
w2[which(w2 == 0)] = NA
breaks = c(0,360,720,1080,1440)
lab = c("00:00 am","06:00 am","12:00 pm","6:00 pm","11:59 pm")
layout(matrix(c(1,2),ncol=1),heights = c(1,0.7))
par(oma = c(1,3,0,0))
par(mar = c(0,0,0.1,1))
acti = x*w2
cls = x2
plot(acti,type = "h",col=c("grey","black")[as.factor(cls)],yaxt="n",xaxt="n",xlab="",ylab="",
cex.lab= 1, cex.main= 1, cex.sub= 2,axes = F,main = "")
axis(side=1,at=breaks,labels = lab,cex.axis=1.5)
axis(side=2,at=c(0,1000,2000))
abline(h=100,lty=3)
w2[which(w2 == 1)] = 0.3
par(mar=c(4,0,0,1))
plot(w2,type = "h",col=c("grey","black")[as.factor(cls)],yaxt="n",xaxt="n",xlab="",ylab="",
cex.lab= 1, cex.main= 1, cex.sub= 2,main = "",
xlim = c(),ylim = c(0,1),axes=F)
axis(side=1,at=breaks,labels = lab,cex.axis=1.5)
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
act = read.csv("./files/check.csv")
x = act$x
w = act$w
x2 = ifelse(x>=100,1,0)
w2 = w
w2[which(w2 == 0)] = NA
breaks = c(0,360,720,1080,1440)
lab = c("00:00 am","06:00 am","12:00 pm","6:00 pm","11:59 pm")
layout(matrix(c(1,2),ncol=1),heights = c(1,0.7))
par(oma = c(1,3,0,0))
par(mar = c(0,0,0.1,1))
acti = x*w2
cls = x2
plot(acti,type = "h",col=c("grey","black")[as.factor(cls)],yaxt="n",xaxt="n",xlab="",ylab="",
cex.lab= 1, cex.main= 1, cex.sub= 2,axes = F,main = "")
axis(side=1,at=breaks,labels = lab,cex.axis=1.5)
axis(side=2,at=c(0,1000,2000))
abline(h=100,lty=3)
w2[which(w2 == 1)] = 0.3
par(mar=c(4,0,0,1))
plot(w2,type = "h",col=c("grey","black")[as.factor(cls)],yaxt="n",xaxt="n",xlab="",ylab="",
cex.lab= 1, cex.main= 1, cex.sub= 2,main = "",
xlim = c(),ylim = c(0,1),axes=F)
axis(side=1,at=breaks,labels = lab,cex.axis=1.5)
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
library(ggplot2)
library(grid)
library(gridExtra)
load("./files/data/project1/shp1.rda")
load("./files/data/project1/shp2.rda")
load("./files/data/project1/map.rda")
result.blk<-BaltimoreMap+
geom_polygon(aes(long,lat,group=group,fill=LE.pred),data=shpdata.df,alpha=0.9,color="black",size=0.04)+
scale_fill_gradient(name="Predicted Life Expectancy",low = "#ffffcc", high = "#ff4444", space = "Lab", na.value = "grey50",guide = "colourbar")+
ggtitle("After Downsampling")+
ylab("latitude")+xlab("longitude")+
theme(text = element_text(size=8),legend.position="bottom")
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
#Set our working directory.
#This helps avoid confusion if our working directory is
#not our site because of other projects we were
#working on at the time.
setwd("~/Dropbox/web/junruidi.github.io/")
#render your sweet site.
rmarkdown::render_site()
# git add -A
# git commit -m "2nd commit"
# git push origin master
install.packages(c("lava", "poweRlaw", "RcppArmadillo", "rmarkdown", "rsconnect", "sp"))
